# Render Blueprint — AI Parliament
# Deploy with: Render Dashboard → New → Blueprint → Connect repo

services:
  # Parliament Backend (MCP Server + Debate Engine + Archestra Orchestrator)
  - type: web
    name: parliament-backend
    runtime: docker
    dockerfilePath: ./apps/parliament-mcp/Dockerfile
    dockerContext: .
    plan: free
    envVars:
      - key: PORT
        value: "3001"
      - key: NODE_ENV
        value: production
      - key: GEMINI_API_KEY
        sync: false  # Set in Render dashboard
      - key: BASE_SEPOLIA_RPC
        value: "https://sepolia.base.org"
      - key: PRIVATE_KEY
        sync: false
      - key: PARLIAMENT_REGISTRY_ADDRESS
        sync: false
      - key: DEBATE_SESSION_ADDRESS
        sync: false
      - key: PARLIAMENT_TOKEN_ADDRESS
        sync: false
      - key: DAO_GOVERNANCE_ADDRESS
        sync: false
      - key: PARLIAMENT_BADGES_ADDRESS
        sync: false
      # Optional: set these if you have an Archestra instance elsewhere
      # - key: ARCHESTRA_MCP_URL
      #   sync: false
      # - key: ARCHESTRA_AUTH_SECRET
      #   sync: false
